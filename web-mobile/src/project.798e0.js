window.__require=function t(e,i,n){function o(a,l){if(!i[a]){if(!e[a]){var r=a.split("/");if(r=r[r.length-1],!e[r]){var c="function"==typeof __require&&__require;if(!l&&c)return c(r,!0);if(s)return s(r,!0);throw new Error("Cannot find module '"+a+"'")}a=r}var h=i[a]={exports:{}};e[a][0].call(h.exports,function(t){return o(e[a][1][t]||t)},h,h.exports,t,e,i,n)}return i[a].exports}for(var s="function"==typeof __require&&__require,a=0;a<n.length;a++)o(n[a]);return o}({ComUIBg:[function(t,e,i){"use strict";cc._RF.push(e,"de325WXQRJFsp8H+pS53lzo","ComUIBg"),cc.Class({extends:cc.Component,properties:{bgNode:{displayName:"\u80cc\u666f\u8282\u70b9",default:null,type:cc.Node}},onLoad:function(){this.node.on(cc.Node.EventType.TOUCH_START,function(t){return console.log(" ===== [popui] touch start  ==== "),t.stopPropagation(),t.stopPropagationImmediate(),!1}.bind(this)),this.node.on(cc.Node.EventType.TOUCH_END,function(t){console.log(" ===== [popui] touch end ==== "),void 0!=this.childNode&&this.childNode.emit("touchEvt",t),t.stopPropagation(),t.stopPropagationImmediate()}.bind(this)),this.node.on("hideBgLayer",this.hideBgLayer,this)},hideBgLayer:function(){this.bgNode.active=!1},addUI:function(t){var e=cc.instantiate(t);return e.x=0,e.y=0,e.parent=this.node,this.childNode=e,e},getUI:function(){return this.childNode},onDestroy:function(){this.node.off("hideBgLayer",this.hideBgLayer,this),this.childNode=null}}),cc._RF.pop()},{}],GlobalUtils:[function(t,e,i){"use strict";cc._RF.push(e,"1c6c5KWWeRMEqWibzTeAz1V","GlobalUtils");var n={formatValueToString:function(t){var e="0";return t>0&&t<1e4?e=t:t>=1e4&&t<1e7?e=Math.floor(t/100)/100+"\u4e07":t>=1e8&&(e=Math.floor(t/1e8)+"\u4ebf"),e},formatTimeToNormal:function(t){if(void 0==t||null==t)return"";var e=new Date(1e3*t),i=e.getFullYear(),n=e.getMonth()+1,o=e.getDate(),s=e.getHours(),a=e.getMinutes(),l=e.getSeconds();return cc.js.formatStr("%s-%s-%s  %s:%s:%s",i,this.formatTimeToTT(n),this.formatTimeToTT(o),this.formatTimeToTT(s),this.formatTimeToTT(a),this.formatTimeToTT(l))},formatTimeToTT:function(t){return t<10?"0"+t:t},formatTimeToDJS:function(t){if(void 0==t||null==t||t<=0)return"00:00:00";var e=Math.floor(t/3600),i=t-3600*e,n=Math.floor(i/60);return i=Math.floor(i-60*n),e<10&&(e="0"+e),n<10&&(n="0"+n),i<10&&(i="0"+i),cc.js.formatStr("%s:%s:%s",e,n,i)},getRandom:function(t,e){return t=parseFloat(t),e=parseFloat(e),Math.floor(Math.random()*(e-t+1)+t)}};e.exports=n,cc._RF.pop()},{}],TableCell:[function(t,e,i){"use strict";cc._RF.push(e,"5abc0itgCdDAKuDaTVGjPHg","TableCell");var n=cc.Class({extends:cc.Component,ctor:function(){this.data=null,this.index=-1},properties:{},updateCell:function(t,e){this.index=t,this.data=e},getCellIndex:function(){return this.index},dataChanged:function(){},onEnter:function(){},onLeave:function(){},onSelect:function(t){},onUnselect:function(){}});e.exports=n,cc._RF.pop()},{}],TableView:[function(t,e,i){"use strict";function n(t){if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(t=o(t))){var e=0,i=function(){};return{s:i,n:function(){return e>=t.length?{done:!0}:{done:!1,value:t[e++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var n,s,a=!0,l=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){l=!0,s=t},f:function(){try{a||null==n.return||n.return()}finally{if(l)throw s}}}}function o(t,e){if(t){if("string"==typeof t)return s(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);return"Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i?Array.from(i):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?s(t,e):void 0}}function s(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}cc._RF.push(e,"deb70tSlApMBKIFyhtVSYfS","TableView");var a=cc.Class({extends:cc.Component,ctor:function(){this._selectCellIndex},properties:{_allData:null,_totalCells:0,_cellWidth:0,_cellHeight:0,_scrollView:null,_content:null,_lastOffset:0,_bufferZone:0,_showCounts:0,_paddingSize:0,_bottomHandler:null,_bottomThisObj:null,_spacingOther:0,_needCreateCell:null,_horizontal:null,columeOrRow:{default:0,tooltip:"\u6ed1\u52a8\u65b9\u5411\u4e3ahorizontal\u65f6\uff0c\u8868\u793a\u6709\u591a\u5c11\u5217\u3002\u6ed1\u52a8\u65b9\u5411\u4e3avertical\u65f6\uff0c\u8868\u793a\u6709\u591a\u5c11\u884c"},oneCell:{default:null,type:cc.Prefab},_cellScriptName:cc.String},onEnable:function(){this.node.on("scrolling",this._scrollingCallBack,this)},onDisable:function(){this.node.off("scrolling",this._scrollingCallBack,this)},onDestroy:function(){this.node.off("scrolling",this._scrollingCallBack,this),this._scrollView.content.destroyAllChildren(),this._allData.splice(0,this._allData.length),this._scrollView=null,this._content=null,this._bottomHandler=null,this._bottomThisObj=null,this._needCreateCell=null},addScrollToBottomEventHandler:function(t,e){this._bottomHandler=t,this._bottomThisObj=e},initTableView:function(t,e,i){this._allData=t,this._totalCells=t.length,this._cellScriptName=e,null===this._scrollView&&(this._cellWidth=this.oneCell.data.width,this._cellHeight=this.oneCell.data.height,this._scrollView=this.node.getComponent(cc.ScrollView),this._content=this._scrollView.content,this._horizontal=this._scrollView.horizontal,this._paddingSize=this._horizontal?this._cellWidth:this._cellHeight,this.columeOrRow?this.columeOrRow<=0?this.columeOrRow=1:this.columeOrRow=Math.min(this.columeOrRow,this._judgeMaxColumnOrRowCounts()):this.columeOrRow=1,this._horizontal?(this._content.anchorX=0,this._content.anchorY=.5):(this._content.anchorX=.5,this._content.anchorY=1),this._updateContentSize(),this._scrollView.node.getComponent(cc.Widget)||this._content.getComponent(cc.Widget)||this._content.parent.getComponent(cc.Widget)?this.scheduleOnce(this._initTableView):this._initTableView())},reloadData:function(t){if(t&&!(t.length<=0)){var e=this._totalCells,i=this.columeOrRow-this._totalCells%this.columeOrRow;if(t=this._allData.concat(t),this._totalCells=t.length,this._allData=t,this._needCreateCell&&i>0){this._needCreateCell=!1;for(var n=e;n<e+i;n++)this._createCellObject(n)}this._updateContentSize()}},_judgeMaxColumnOrRowCounts:function(){var t=this._content.parent;if(this._horizontal){var e=Math.floor(t.height/this._cellHeight);return this._spacingOther=(t.height-e*this._cellHeight)/(e-1),e}var i=Math.floor(t.width/this._cellWidth);return this._spacingOther=(t.width-i*this._cellWidth)/(i-1),i},_initTableView:function(){var t=this._content.parent,e=this._horizontal?Math.ceil(t.width/this._cellWidth+1):Math.ceil(t.height/this._cellHeight+1);this._showCounts=Math.min(this._totalCells,e*this.columeOrRow),this._bufferZone=this._horizontal?.5*t.width+this._cellWidth:.5*t.height+this._cellHeight;var i=0;this.schedule(function t(e){this._createCellObject(i),(i+=1)===this._showCounts&&this.unschedule(t)},0,this._showCounts,0)},_updateContentSize:function(){var t=Math.ceil(this._totalCells/this.columeOrRow);this._horizontal?this._content.width=t*this._cellWidth:this._content.height=t*this._cellHeight},_scrollingCallBack:function(){var t=this._scrollView.getScrollOffset(),e=this._horizontal?t.x:t.y;this._lastOffset>e?this._horizontal?this._updateCellStatusByStart():this._updateCellStatusByEnd():this._horizontal?this._updateCellStatusByEnd():this._updateCellStatusByStart(),this._lastOffset=e},_getPositionInView:function(t){var e=t.parent.convertToWorldSpaceAR(t.position);return this._scrollView.node.convertToNodeSpaceAR(e)},_updateCellStatusByStart:function(){for(var t,e,i,n,o=this._allData,s=this._cellScriptName,a=this._content.children,l=a.length,r=this._bufferZone,c=this._paddingSize*Math.ceil(l/this.columeOrRow),h=0;h<l;h++)if(t=a[h],n=this._getPositionInView(t),this._horizontal&&n.x<-r||!this._horizontal&&Math.ceil(n.y)>=r)if((i=(e=t.getComponent(s)).getCellIndex()+l)<this._totalCells){e.onLeave();var u=this._horizontal?t.x+c:t.y-c;this._updateCellPos(t,i,u),e.updateCell(i,o[i]),e.dataChanged(),e.onEnter(),i===this._totalCells-1&&this._bottomHandler&&(this._needCreateCell=!1,this._bottomHandler.call(this._bottomThisObj))}else i==this._totalCells+this.columeOrRow-1&&this._bottomHandler&&(this._needCreateCell=!0,this._bottomHandler.call(this._bottomThisObj));o=null},_updateCellStatusByEnd:function(){for(var t,e,i=this._allData,n=this._cellScriptName,o=this._content.children,s=o.length,a=this._bufferZone,l=this._paddingSize*Math.ceil(s/this.columeOrRow),r=s-1;r>=0;r--)if((t=o[r]).getBoundingBoxToWorld(),e=this._getPositionInView(t),this._horizontal&&e.x>a&&t.x-l>0||!this._horizontal&&e.y<-a&&t.y+l<0){var c=t.getComponent(n);c.onLeave();var h=c.getCellIndex()-s,u=this._horizontal?t.x-l:t.y+l;this._updateCellPos(t,h,u),c.updateCell(h,i[h]),c.dataChanged(),c.onEnter()}i=null},_createCellObject:function(t){var e=cc.instantiate(this.oneCell);e.parent=this._content,this._updateCellPos(e,t);var i=e.getComponent(this._cellScriptName);i.updateCell(t,this._allData[t]),i.dataChanged(),e.on(cc.Node.EventType.TOUCH_END,this._onCellTouched,this)},_updateCellPos:function(t,e,i){var n=this._paddingSize;if(this.columeOrRow<2)this._horizontal?(t.x=i||n/2+e*n,t.y=0):(t.x=0,t.y=i||-n/2-e*n);else{var o=this.columeOrRow,s=e%o,a=Math.floor(e/o);this._horizontal?(t.x=n*(.5+a),t.y=.5*this._content.height-this._cellHeight*(.5+s)-this._spacingOther*s):(t.x=.5*-this._content.width+this._cellWidth*(.5+s)+this._spacingOther*s,t.y=-n*(.5+a))}},_onCellTouched:function(t){var e=t.target.getComponent(this._cellScriptName);if(this._selectCellIndex&&this._selectCellIndex!=e.index){var i=this._findDisplayCellByIndex(this._selectCellIndex);i&&i.getComponent(this._cellScriptName).onUnselect()}this._selectCellIndex=e.index,e.onSelect(t.getLocation())},_findDisplayCellByIndex:function(t){if(t){var e,i=this._content.children,o=this._cellScriptName,s=n(i);try{for(s.s();!(e=s.n()).done;){var a=e.value;if(a.getComponent(o).index==t)return a}}catch(t){s.e(t)}finally{s.f()}return i=null,null}return null}});cc.TableView=e.exports=a,cc._RF.pop()},{}],Toast:[function(t,e,i){"use strict";cc._RF.push(e,"11b5aS3NiVG0b6hX7t+Upxf","Toast");var n={makeText:function(t,e){var i,o;return new function(t,e){i=t,o=e,this.show=function(){if(void 0!==n.bgSpriteFrame){var t=cc.director.getScene();if(void 0===n.curWidth||void 0===n.curHeight){var e=cc.view.getVisibleSize();n.curWidth=e.width,n.curHeight=e.height}void 0===o&&(o=2);var s=new cc.Node,a=new cc.Node,l=a.addComponent(cc.Label);l.horizontalAlign=cc.Label.HorizontalAlign.CENTER,l.verticalAlign=cc.Label.VerticalAlign.CENTER,l.fontSize=30,l.string=i;var r=s.addComponent(cc.Sprite);r.type=cc.Sprite.Type.SLICED;var c=s.addComponent(cc.Layout);c.resizeMode=cc.Layout.ResizeMode.CONTAINER;var h=l.fontSize/2;c.paddingLeft=h,c.paddingRight=h,c.paddingTop=10,c.paddingBottom=10,i.length*l.fontSize>n.curWidth/2&&(a.width=n.curWidth/2,l.overflow=cc.Label.Overflow.RESIZE_HEIGHT),n.bgSpriteFrame&&(r.spriteFrame=n.bgSpriteFrame),a.x=n.curWidth/2,a.y=n.curHeight/2,s.addChild(a),t.addChild(s),cc.tween(s).to(o,{position:cc.v2(0,0)},{easing:"sineIn"}).call(function(){s.destroy()}).start()}else{var u=this;cc.loader.loadRes("common/bg_toast",function(t,e){t||(n.bgSpriteFrame=new cc.SpriteFrame(e),n.bgSpriteFrame.insetTop=4,n.bgSpriteFrame.insetBottom=4,n.bgSpriteFrame.insetLeft=4,n.bgSpriteFrame.insetRight=4,u.show())})}}}(t,e)},showText:function(t,e){n.makeText(t,e).show()}};e.exports=n,cc._RF.pop()},{}],UIUtils:[function(t,e,i){"use strict";cc._RF.push(e,"5ef6fm5MhdG/oEsi4TLyyh0","UIUtils");var n=t("Toast");window.UIUtils=e.exports={_uiMap:{},_uiStack:[],_sceneName:null,_sceneParams:{},_cachedPrefab:{},_keyDownTm:null,_evtTarget:new cc.EventTarget,removeFromStack:function(t,e,i,n){if(void 0!=e){if(i&&void 0!=i){for(var o=t.length-1;o>=0;o--)if(t[o].name===e&&t[o].uuid===i)return t.splice(o,1),i}else for(var s=!1,a=t.length-1;a>=0;a--)if(s=!1,t[a].name===e&&(s=!0,void 0!=n&&(s=t[a].subName===n)),s){var l=t[a].uuid;return t.splice(a,1),l}return null}},loadPrefab:function(t,e){if(this._cachedPrefab[t]){if(void 0===e)return;e(this._cachedPrefab[t])}else cc.loader.loadRes("prefabs/"+t,cc.Prefab,function(i,n){i?console.log("[UIMgr] \u65e0\u6cd5\u521b\u5efaPrefab: "+t):(this._cachedPrefab[t]=n,void 0!==e&&e(n))}.bind(this))},clearCachedPrefab:function(t){void 0!==t&&this._cachedPrefab[t]&&(this._cachedPrefab[t].destroy(),delete this._cachedPrefab[t])},createPrefabAddToRunningScene:function(t,e,i,n,o){cc.loader.loadRes("prefabs/ComUIBg",cc.Prefab,function(s,a){if(null!=a&&void 0!==a)if(this.hasPopUI(i,o))console.log("\u4e0d\u80fd\u91cd\u590d\u6253\u5f00\u540c\u4e00\u4e2apop\u591a\u6b21:  "+i);else{var l=cc.instantiate(a),r=l.getComponent("ComUIBg");if(r){var c=r.addUI(t),h=c.uuid.toString();this._uiMap[h]={rootNode:l,params:n,name:i,subName:o},this._uiStack.push({uuid:h,name:i,subName:o});var u=cc.director.getScene();if(u){var d=cc.view.getVisibleSize();l.x=d.width/2,l.y=d.height/2,u.addChild(l),e&&void 0!=e&&e(c)}else console.log("[UIMgr] \u6ca1\u6709\u8fd0\u884cScene, \u65e0\u6cd5\u6dfb\u52a0UI\u754c\u9762!");r.childNode.on("navBack",function(t,e){this.removeStackByUUID(r.getUI().uuid.toString(),i)}.bind(this))}}else console.log("load [ComUIBg] failed ",s.errorMessage)}.bind(this))},destroyUI:function(t){if(void 0!==t&&void 0!==t.node){var e=t.node.uuid.toString();this.removeStackByUUID(e,t.node.name)}},removeStackByUUID:function(t,e){void 0!=t&&null!=t&&(this._uiMap[t]&&void 0!=this._uiMap[t]&&void 0!=this._uiMap[t].rootNode?(this.removeFromStack(this._uiStack,this._uiMap[t].name,t),this._uiMap[t].rootNode.destroy(),delete this._uiMap[t]):console.log("Can not destroy : "+e))},getParams:function(t,e){if(!0===e)return this._sceneParams;if(void 0!=t&&void 0!=t.node){var i=t.node.uuid.toString();return this._uiMap[i].params}console.log("[UIMgr] "+t.name+"\u6ca1\u6709\u4f20\u5165\u6570\u636e")},closePopUI:function(t,e){var i=this.removeFromStack(this._uiStack,t,null,e);null!=i&&void 0!=this._uiMap[i]&&(this._uiMap[i].rootNode.destroy(),delete this._uiMap[i])},closeAllPopUI:function(){for(var t in this._uiMap)this._uiMap[t]&&void 0!=this._uiMap[t].rootNode&&(this._uiMap[t].rootNode.destroy(),delete this._uiMap[uuid]);this._uiStack.splice(0,this._uiStack.length)},openPopUI:function(t,e,i,n){void 0!==t&&(void 0!=this._cachedPrefab[t]?this.createPrefabAddToRunningScene(this._cachedPrefab[t],i,t,e,n):cc.loader.loadRes("prefabs/"+t,cc.Prefab,function(o,s){null!=s?(this._cachedPrefab[t]=s,this.createPrefabAddToRunningScene(s,i,t,e,n)):cc.log("[UIMgr] \u65e0\u6cd5\u521b\u5efaPrefab: "+t)}.bind(this)))},hasPopUI:function(t,e){for(var i in this._uiMap)if(this._uiMap[i]&&this._uiMap[i].name===t&&this._uiMap[i].subName===e)return!0;return!1},openSceneUI:function(t,e,i){if(console.log(" [SCENE OPEN]  :  "+t),null==this._sceneName||this._sceneName!==t){for(var n in this._uiMap)void 0!=this._uiMap[n]&&delete this._uiMap[n];this._uiStack.splice(0,this._uiStack.length),this._sceneName=t,this._sceneParams=void 0!=e?e:{},cc.director.preloadScene(t,i,function(){cc.director.loadScene(t)}),cc.sys.os==cc.sys.OS_ANDROID&&"loginScene"===t&&(cc.systemEvent.off(cc.SystemEvent.EventType.KEY_DOWN,this.handleNavBack,this),cc.systemEvent.on(cc.SystemEvent.EventType.KEY_DOWN,this.handleNavBack,this))}else console.log(" scene is under opening !")},handleNavBack:function(t){if(Number(t.keyCode)==Number(cc.macro.KEY.back)){var e=(new Date).getTime();if(!(this._keyDownTm&&void 0!==this._keyDownTm&&Math.abs(e-this._keyDownTm)<500)){this._keyDownTm=e;var i=this._uiStack.length;i>0?this.sendUIMsg(this._uiStack[i-1].name,"navBack"):this.sendUIMsg("root","navBack")}}},showToast:function(t,e){n.showText(t,e)},clearAllUIMgrData:function(){for(var t in this._uiMap)this._uiMap[t]&&void 0!=this._uiMap[t].rootNode&&(this._uiMap[t].rootNode.destroy(),delete this._uiMap[uuid]);for(var e in this._cachedPrefab)this.clearCachedPrefab(e);this._uiMap={},this._uiStack=[],this._sceneName=null,this._sceneParams={},this._cachedPrefab={},this._keyDownTm=null},listenEvt:function(t,e,i){this.hasListenEvt(t)||this._evtTarget.on(t,e,i)},unListenEvt:function(t,e,i){this.hasListenEvt(t)&&this._evtTarget.off(t,e,i)},dispatchEvt:function(t,e){this._evtTarget.emit(t,e)},hasListenEvt:function(t){return this._evtTarget.hasEventListener(t)}},cc._RF.pop()},{Toast:"Toast"}],app:[function(t,e,i){"use strict";cc._RF.push(e,"cd1bavGML9IQaoZhkcKe0lT","app"),cc.Class({extends:cc.Component,properties:{globalNode:{default:null,type:cc.Node}},onLoad:function(){cc.game.addPersistRootNode(this.globalNode)},start:function(){UIUtils.openSceneUI("loginScene")}}),cc._RF.pop()},{}],gameScene:[function(t,e,i){"use strict";function n(t,e,i,n,o,s,a){try{var l=t[s](a),r=l.value}catch(t){return void i(t)}l.done?e(r):Promise.resolve(r).then(n,o)}function o(t){return function(){var e=this,i=arguments;return new Promise(function(o,s){var a=t.apply(e,i);function l(t){n(a,o,s,l,r,"next",t)}function r(t){n(a,o,s,l,r,"throw",t)}l(void 0)})}}var s;cc._RF.push(e,"45290pCgIBMvYl178sJCXrw","gameScene");var a=[];cc.Class({extends:cc.Component,properties:{_params:null,_muteState:!1,_isPreviewed:!1,_userIdStr:""},onLoad:function(){this._params=UIUtils.getParams(this,!0),this._userIdStr=this._params.userId.toString(),cc.log("---== _params_params is %s ==---",this._params),this.initZegoEvents()},start:function(){this.startPublishStream()},onDestroy:function(){this._isPreviewed&&(console.log("---== onDestroy onDestroy ==---"),zgClient.stopPublishingStream(this._userIdStr),zgClient.destroyStream(s),this._isPreviewed=!1);for(var t=0;t<a.length;t++)zgClient.stopPlayingStream(a[t].streamID)},initZegoEvents:function(){if(zgClient){zgClient.on("roomUserUpdate",function(t,e,i){console.log("---== onUserUpdate roomID is "+t+"updateType is "+e+"userList is "+i+" ==---")});var t=this;zgClient.on("roomStreamUpdate",function(e,i,n){if(console.log("---== updateType updateType is "+i+" streamList is "+n+" ==---"),console.log("---== this._userIdStr is %s ==--- "+t._userIdStr),"ADD"==i)for(var o=0;o<n.length;o++)console.info(n[o].streamID+" was added"),a.push(n[o]),zgClient.startPlayingStream(n[o].streamID);else if("DELETE"==i)for(var s=0;s<a.length;s++)for(var l=a[s],r=0;r<n.length;r++)if(l.streamID===n[r].streamID){zgClient.stopPlayingStream(l.streamID),console.info(l.streamID+"was devared"),a.splice(s,1);break}}),zgClient.on("publishQualityUpdate",function(t,e){console.log("---== publishQualityUpdate streamID streamID is "+t+" streamQuality is "+e+" ==---")}),zgClient.on("playQualityUpdate",function(t,e){console.log("---== playQualityUpdate streamID streamID is "+t+" streamQuality is "+e+" ==---")}),zgClient.on("playerStateUpdate",function(t){console.log("---== playerStateUpdate result result is "+t+" ==---")})}},exitCallBack:function(){zgClient&&(console.log("---== this._params channelId is %s ==---"+this._params.channelId),zgClient.logoutRoom(this._params.channelId),UIUtils.openSceneUI("loginScene"))},startPublishStream:function(){var t=this;return o(regeneratorRuntime.mark(function e(){var i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,zgClient.createStream({camera:{audio:!0,video:!1}});case 2:s=e.sent,t._isPreviewed=!0,i=zgClient.startPublishingStream(t._userIdStr,s),console.log("---== result result is %s ==--- "+i);case 6:case"end":return e.stop()}},e)}))()},mutePublishStreamCallBack:function(){this._muteState=!this._muteState,console.log("---== this._muteState is %s ==--- "+this._muteState),zgClient.mutePublishStreamAudio(s,this._muteState)}}),cc._RF.pop()},{}],globalConfig:[function(t,e,i){"use strict";cc._RF.push(e,"18d97/4SUlHpJ4OzCx9c4uM","globalConfig"),window.zgClient=new ZegoExpressEngine(136818598,"wss://webliveroom-test.zego.im/ws"),window.GlobalCfg={},cc._RF.pop()},{}],loginScene:[function(t,e,i){"use strict";cc._RF.push(e,"74000rEAthNNqWW2JXsYDre","loginScene");var n=t("GlobalUtils");cc.Class({extends:cc.Component,properties:{_channelId:null,_userId:null},onLoad:function(){this._channelId="yyhd678",this._userId=n.getRandom(1e7,99999999),this.initZegoEvents()},initZegoEvents:function(){if(zgClient){var t=this;zgClient.on("roomStateUpdate",function(e,i,n,o){if(0==n&&"CONNECTED"==i){console.log("---== roomID is "+e+" state is "+i+" errorCode is "+n+" extendedData is "+o+" ==---");var s={channelId:e,userId:t._userId};UIUtils.openSceneUI("gameScene",s)}})}},getLoginRoomToken:function(){var t=this,e=cc.js.formatStr("https://wsliveroom-alpha.zego.im:8282/token?app_id=136818598&id_name=%s",t._userId),i=cc.loader.getXMLHttpRequest();i.onreadystatechange=function(){4===i.readyState&&i.status>=200&&i.status<300&&(console.log("---== xhr.responseText is ==---"+i.responseText),zgClient.loginRoom(t._channelId,i.responseText,{userID:t._userId.toString(),userName:"\u6d4b\u8bd5"},{userUpdate:!0}))},i.open("GET",e,!0),cc.sys.isNative&&i.setRequestHeader("Accept-Encoding","gzip,deflate"),i.timeout=1e4,i.send()},startLoginRoom:function(){zgClient&&this.getLoginRoomToken()}}),cc._RF.pop()},{GlobalUtils:"GlobalUtils"}]},{},["app","ComUIBg","TableCell","TableView","Toast","globalConfig","gameScene","loginScene","GlobalUtils","UIUtils"]);